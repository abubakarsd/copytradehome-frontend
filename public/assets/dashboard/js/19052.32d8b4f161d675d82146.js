(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[19052],{901842:e=>{e.exports={}},123817:(e,t,i)=>{"use strict";function s(e){let t=null;return(i,...s)=>(t?.abort(),t=new AbortController,i?.aborted?t.abort():i?.addEventListener("error",(()=>t?.abort()),{once:!0}),e(t.signal,...s))}function n(e){if(!_(e))throw e}function o(e){if(_(e))throw e}function r(e){return e?.aborted?Promise.reject(a()):new Promise(((t,i)=>{e?.addEventListener("abort",(()=>i(a())),{once:!0})}))}function a(){return new DOMException("Aborted","AbortError")}function _(e){return e instanceof Error&&"AbortError"===e.name||"object"==typeof e&&null!==e&&"name"in e&&"AbortError"===e.name}function l(e,t){return Promise.race([r(e),t])}async function c(e,t){let i;try{await l(e,new Promise((e=>{i=setTimeout(e,t)})))}finally{clearTimeout(i)}}i.d(t,{createAbortError:()=>a,delay:()=>c,isAbortError:()=>_,respectAbort:()=>l,respectLatest:()=>s,rethrowAbortError:()=>o,skipAbortError:()=>n})},359308:(e,t,i)=>{"use strict";function s(e,...t){return e&&"object"==typeof e?(0===t.length||t.forEach((t=>{null!=t&&"object"==typeof t&&Object.keys(t).forEach((i=>{const o=e[i],r=t[i];if(r===e)return;const a=Array.isArray(r);if(r&&(n(r)||a)){let t;t=a?o&&Array.isArray(o)?o:[]:o&&n(o)?o:{},e[i]=s(t,r)}else void 0!==r&&(e[i]=r)}))})),e):e}function n(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const i=Object.hasOwnProperty.toString,s=t.hasOwnProperty("constructor")&&t.constructor;return"function"==typeof s&&i.call(s)===i.call(Object)}i.d(t,{deepExtend:()=>s})},912448:(e,t,i)=>{"use strict";i.d(t,{FOCUS_TRAP_DATA_ATTRIBUTE:()=>s});const s="data-focus-trap"},98062:(e,t,i)=>{"use strict";i.d(t,{FOCUSABLE_SELECTOR:()=>n,createScopedVisibleElementFilter:()=>c,getActiveElementSelectors:()=>l,isHTMLOrSVGElement:()=>d,isInertRoot:()=>a,isVisibilityVisible:()=>o});const s=["button","fieldset","optgroup","option","select","textarea","input"],n=["button","input","select","textarea","a[href]","audio[controls]","video[controls]",'[tabindex="0"]','[contenteditable="true"]'].map((e=>s.includes(e)?`${e}:not(:disabled)`:e)).map((e=>`${e}:not([tabindex="-1"])`)).join(",");function o(e){return"visible"===getComputedStyle(e).visibility}function r(e,t){if(e.matches("[inert],[inert] *"))return!0;let i=e;for(;i!==t&&null!==i;){if(_(i))return!0;i=i.parentElement}return!1}function a(e){return e.matches("[inert]")||_(e)}function _(e){return"none"===getComputedStyle(e).display}function l(){return n}function c(e){return t=>o(t)&&!r(t,e)}function d(e){return e instanceof HTMLElement||e instanceof SVGElement}},182497:(e,t,i)=>{"use strict";function s(e){return 0===e.detail}i.d(t,{isKeyboardClick:()=>s})},398103:(e,t,i)=>{"use strict";i.d(t,{getFirstDescendant:()=>o,getLastDescendant:()=>r,getPreviousNonParent:()=>a,getSelectorTreeWalker:()=>n});var s=i(98062);const n=(e=document.documentElement,t)=>document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,(e=>t=>{if(1!==t.nodeType)return NodeFilter.FILTER_SKIP
;const i=t;return(0,s.isInertRoot)(i)?NodeFilter.FILTER_REJECT:(0,s.isVisibilityVisible)(i)&&i.matches(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})(t));function o(e){return e.currentNode=e.root,e.nextNode()}function r(e){for(e.currentNode=e.root;null!==e.lastChild(););return e.currentNode===e.root?null:e.currentNode}function a(e){const t=e.currentNode;let i=e.previousNode();for(;i&&i.contains(t);)i=e.previousNode();return i}},307866:(e,t,i)=>{"use strict";i.d(t,{QUOTE_FIELDS:()=>n,QUOTE_FIELDS_CACHE:()=>o});var s=i(185842)
;const n=new Set(["pro_name","base_name","logo","logoid","currency-logoid","base-currency-logoid","source-logoid","short_name","web_site_url","pro_perm","timezone","current_session","last_price","lp_time","subsessions","prev_close_price","open_price","high_price","low_price","price_52_week_high","price_52_week_low","ask","ask_size","bid","bid_size","rch","rchp","rtc","rtc_time","data_frequency","reference-last-period-start","business_description","web_site_url","figi","number_of_employees","float_shares_outstanding","earnings_release_next_calendar_date","root","description","exchange","listed_exchange","type","country_code","provider_id","sector","typespecs","visible-plots-set","industry","currency_id","last_price","fractional","minmov","minmove2","pricescale","variable_tick_size","change","change_percent","volume","average_volume","market_cap_basic","market_cap_calc","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_publication_type_next_fq","earnings_release_date","earnings_per_share_fq","earnings_per_share_forecast_fq","forecast_raw","last_release_date","next_release_date","reference_last_period","fundamental_currency_code","number_of_employees","web_site_url","business_description","founded","ceo","float_shares_outstanding","total_shares_outstanding","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","dividend_amount_h","dividend_payment_date_upcoming","dividend_payment_date_recent","total_revenue_fq_h","total_revenue_fy_h","net_income_fy_h","net_income_fq_h","total_assets_fy_h","total_assets_fq_h","total_liabilities_fy_h","total_liabilities_fq_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","earnings_release_date_fq_h","earnings_release_next_date_fq","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_fq_h","earnings_per_share_fq_h","earnings_fiscal_period_fq_h","next_earnings_fiscal_period_fq","is_next_earnings_release_date_estimated","symbol-primaryname","currency_code","rates_mc","rates_fy","rates_ttm","measure","value_unit_id","value-unit-id","update_mode","language","local_description","short_description","source","source2","format","recommendation_mark","last_report_frequency","price_target_estimates_num","price_target_average","update_mode_seconds","recommendation_total","recommendation_buy","recommendation_over","recommendation_hold","recommendation_under","recommendation_sell","recommendation_total","price_target_high","price_target_low","rates_pt","rates_pt","total_revenue_fy_h","total_revenue_fq_h","total_revenue_fh_h","net_income_fy_h","net_income_fq_h","net_income_fh_h","total_assets_fy_h","total_assets_fq_h","total_assets_fh_h","total_liabilities_fy_h","total_liabilities_fq_h","total_liabilities_fh_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_operating_activities_fh_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_investing_activities_fh_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","cash_f_financing_activities_fh_h","fiscal_period_fy","fiscal_period_fq","fiscal_period_fh","earnings_release_date_fq_h","earnings_release_date_fy_h","earnings_release_date_fh_h","earnings_release_next_date_fq","earnings_release_next_date_fy","earnings_release_next_date_fh","earnings_release_next_time","earnings_release_time","is_next_earnings_release_date_estimated","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_next_fy","earnings_per_share_forecast_next_fh","earnings_per_share_forecast_fq_h","earnings_per_share_forecast_fy_h","earnings_per_share_forecast_fh_h","earnings_per_share_fq_h","earnings_per_share_fy_h","earnings_per_share_fh_h","earnings_fiscal_period_fq_h","earnings_fiscal_period_fy_h","earnings_fiscal_period_fh_h","next_earnings_fiscal_period_fq","next_earnings_fiscal_period_fy","next_earnings_fiscal_period_fh","revenue_fq_h","revenue_fy_h","revenue_fh_h","revenue_forecast_fq_h","revenue_forecast_fy_h","revenue_forecast_fh_h","revenue_forecast_next_fq","revenue_forecast_next_fy","revenue_forecast_next_fh","revenue_seg_by_business_h","revenue_seg_by_region_h","total_revenue_fy","total_revenue_fq","total_revenue_fh","gross_profit_fy","gross_profit_fq","gross_profit_fh","ebitda_fy","ebit_fy","net_income_fy","net_income_fq","net_income_fh","total_debt_fy_h","total_debt_fq_h","total_debt_fh_h","free_cash_flow_fy_h","free_cash_flow_fq_h","free_cash_flow_fh_h","cash_n_equivalents_fy_h","cash_n_equivalents_fq_h","cash_n_equivalents_fh_h","total_current_assets_fy","total_current_assets_fq","total_current_assets_fh","total_current_liabilities_fy","total_current_liabilities_fq","total_current_liabilities_fh","total_non_current_assets_fy","total_non_current_assets_fq","total_non_current_assets_fh","total_non_current_liabilities_fy","total_non_current_liabilities_fq","total_non_current_liabilities_fh","loans_net_fy","loans_net_fy_h","loans_net_fq_h","loans_net_fh_h","total_deposits_fy","total_deposits_fy_h","total_deposits_fq_h","total_deposits_fh_h","loan_loss_allowances_fy","loan_loss_allowances_fy_h","loan_loss_allowances_fq_h","loan_loss_allowances_fh_h","reserve_to_total_capital_fy_h","reserve_to_total_capital_fq_h","reserve_to_total_capital_fh_h","unearned_premium_to_total_capital_fy_h","unearned_premium_to_total_capital_fq_h","unearned_premium_to_total_capital_fh_h","insurance_reserves_fy_h","insurance_reserves_fq_h","insurance_reserves_fh_h","policy_claims_fy_h","policy_claims_fq_h","policy_claims_fh_h","premiums_earned_fy_h","premiums_earned_fq_h","premiums_earned_fh_h","price_earnings_fq_h","price_earnings_fy_h","price_earnings_fh_h","price_sales_fq_h","price_sales_fy_h","price_sales_fh_h","diluted_net_income_ttm","total_revenue_ttm","price_earnings_current","price_sales_current","isin-displayed","cusip","interest_income_fy_h","interest_income_fq_h","interest_income_fh_h","non_interest_income_fy_h","non_interest_income_fq_h","non_interest_income_fh_h","website","doc","explorer","sources","contracts","crypto_common_categories","crypto_asset","community","dividends_availability","earnings_availability","financials_availability","documents","etf_asset_type_exposure","etf_region_exposure","top_holdings","unit-id","options-info","interest_income_fy","interest_income_fq","interest_income_fh","non_interest_income_fy","non_interest_income_fq","non_interest_income_fh","interest_expense_fy","interest_expense_fq","interest_expense_fh","loan_loss_provision_fy","loan_loss_provision_fq","loan_loss_provision_fh","non_interest_expense_fy","non_interest_expense_fq","non_interest_expense_fh","non_oper_income_fy","non_oper_income_fq","non_oper_income_fh","unusual_expense_inc_fy","unusual_expense_inc_fq","unusual_expense_inc_fh","pretax_income_fy","pretax_income_fq","pretax_income_fh","income_tax_fy","income_tax_fq","income_tax_fh","after_tax_other_income_fy","after_tax_other_income_fq","after_tax_other_income_fh","total_non_oper_income_fy","total_non_oper_income_fq","total_non_oper_income_fh","oper_income_fy","oper_income_fq","oper_income_fh","operating_expenses_fy","operating_expenses_fq","operating_expenses_fh","cost_of_goods_fy","cost_of_goods_fq","cost_of_goods_fh","equity_in_earnings_fy","equity_in_earnings_fq","equity_in_earnings_fh","minority_interest_exp_fy","minority_interest_exp_fq","minority_interest_exp_fh","discontinued_operations_fy","discontinued_operations_fq","discontinued_operations_fh","front_contract","pointvalue","unit_id","expiration","aum","asset_class","focus","expense_ratio","launch_date","issuer","brand","homepage","index_tracked","actively_managed","fund_view_mode","common_equity_tier1_ratio_fy_h","common_equity_tier1_ratio_fq_h","common_equity_tier1_ratio_fh_h","tier1_capital_ratio_fy_h","tier1_capital_ratio_fq_h","tier1_capital_ratio_fh_h","total_capital_ratio_fy_h","total_capital_ratio_fq_h","total_capital_ratio_fh_h","preferred_stock_carrying_value_fh","preferred_stock_carrying_value_fq","total_debt_fq","minority_interest_fh","minority_interest_fq","cash_n_short_term_invest_fq","cash_n_due_f_banks_fh","cash_n_due_f_banks_fq","enterprise_value_current","etf_holdings_count","contract-description","reference-last-period","all_time_high","all_time_high_day","all_time_low","all_time_low_day","outstanding_amount","nominal_value","denom_min","current_coupon","coupon_type_general","coupon_frequency","yield_to_maturity","maturity-date","days_to_maturity","bond_issuer","issue_date","bond_issuer_stock_symbol","total_issued_amount","paid_amount","bond_snp_rating_lt_h","placement_type","duration_type","maturity_type","offer_type","redemption_type","conversion_option","sinking_fund","ownership_form","daily-summary-ast","issue_status","coupon_h","sinking_fund_next_date","sinking_fund_min_amount_next","call_next_date","redemptions_h","call_notice_days","put_next_date","put_notice_days_min","seniority_level","inflation_protection","pledge_status","bond_issuer_country_of_risk","bond_issuer_cr_parent","credit_enhancement_type","credit_enhancement_status","use_of_proceeds","bond_issuer_snp_rating_lt_h","bond_issuer_snp_rating_st_h","bond_agents_tr","first_bar_time_1d","financial-indicator-id","exchange-info","underlying-symbol","strike","lotsize","option-style","has_bonds","open_time","has_bonds","dex_buys_15m","dex_sells_15m","dex_buy_volume_15m","dex_sell_volume_15m","dex_buyers_15m","dex_sellers_15m","dex_buys_1h","dex_sells_1h","dex_buy_volume_1h","dex_sell_volume_1h","dex_buyers_1h","dex_sellers_1h","dex_buys_4h","dex_sells_4h","dex_buy_volume_4h","dex_sell_volume_4h","dex_buyers_4h","dex_sellers_4h","dex_buys_12h","dex_sells_12h","dex_buy_volume_12h","dex_sell_volume_12h","dex_buyers_12h","dex_sellers_12h","dex_buys_24h","dex_sells_24h","dex_buy_volume_24h","dex_sell_volume_24h","dex_buyers_24h","dex_sellers_24h","dex_converted_symbol","dex_trading_volume_24h","dex_created_time","dex_currency","dex_currency_logoid","blockchain_addresses_urls","blockchain_addresses","base_currency","ipo_offer_status","has_ipo_details_visible","ipo_price_range_usd_max","ipo_price_range_usd_min","ipo_offer_price_usd","ipo_offered_shares","ipo_deal_amount_usd","ipo_announcement_date","ipo_offer_date","available_data_range_begin_date","available_data_range_end_date","has_etf_ownership","symbol_primary_listing","metric_ytm"]),o=new class{
constructor(e){this._cache=new Map,this._times=new Map,this._fields=[...e.fields]}update(e,t,i){const n=(0,s.ensureDefined)(e.symbolname),o=Date.now();if(this._cache.has(n)||this._cache.set(n,{symbolname:n,status:e.status,values:{}}),this._times.has(n)||this._times.set(n,new Map),"error"===e.status)return;const r=(0,s.ensureDefined)(this._cache.get(n)),a=(0,s.ensureDefined)(this._times.get(n));r.status=e.status;for(const s of this._fields)t.has(s)&&(i||void 0!==e.values[s])&&(r.values[s]=e.values[s],a.set(s,o))}get(e){return this._cache.get(e)??null}getTimes(e){return this._times.get(e)??null}fields(){return this._fields}}({fields:n})},809064:(e,t,i)=>{"use strict";i.d(t,{QuoteSession:()=>n});var s=i(584104);class n{constructor(e,t=(0,s.randomHash)()){this._sessionstarted=!1,this._globalHandler=null,this._chartApi=e,this._sessionid="qs_"+t}destroy(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionstarted=!1)}connected(){return this._chartApi.connected()}connect(e){this._globalHandler=e,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()}disconnect(){this._chartApi.disconnect()}quoteAddSymbols(e){this._chartApi.quoteAddSymbols(this._sessionid,e)}quoteRemoveSymbols(e){this._chartApi.quoteRemoveSymbols(this._sessionid,e)}quoteFastSymbols(e){this._chartApi.quoteFastSymbols(this._sessionid,e)}quoteSetFields(e){this._chartApi.quoteSetFields(this._sessionid,e)}onMessage(e){switch(e.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}this._globalHandler?.(e)}quoteHibernateAll(){this._chartApi.quoteHibernateAll(this._sessionid)}}},615442:(e,t,i)=>{"use strict";i.d(t,{quoteTickerFormatChange:()=>a});var s=i(605434),n=i(760823);const o=(e,t=!0)=>t?`(${e})`:e;var r=i(741175);function a(e,t,i){const a=(0,r.toNumberOrUndefined)(e);if("economic"===t?.type&&0===a||void 0===a)return;const _=i?.customPriceFormatter||"volume"===t.format&&new n.VolumeFormatter({precision:2})||new s.PriceFormatter({priceScale:t.pricescale||100,minMove:t.minmov||1,fractional:t.fractional,minMove2:t.minmove2}),l=void 0!==i?.signPositiveChange?i.signPositiveChange:i?.signPositive,c=_.format(a,{signPositive:l,signNegative:i?.signNegative});return o(c,i?.changeInBrackets)}},823268:(e,t,i)=>{"use strict";i.d(t,{quoteTickerFormatCurrency:()=>n});var s=i(729193);function n(e){switch(e){case"PCTDY":return s.t(null,{context:"_max_len_9"},i(44505));case"PCTPAR":return s.t(null,{context:"_max_len_9"},i(468460));default:return e}}},741175:(e,t,i)=>{"use strict";function s(e){if(null!=e&&"boolean"!=typeof e&&!isNaN(Number(e)))return Number(e)}function n(e){if(null!=e&&"number"!=typeof e&&"boolean"!=typeof e)return String(e)}i.d(t,{toNumberOrUndefined:()=>s,toStringOrUndefined:()=>n})},860904:(e,t,i)=>{"use strict";i.d(t,{MarketStatusIndicator:()=>a});var s=i(729193),n=i(648070);i(901842);const o={invalid:"tv-market-status--invalid",market:"tv-market-status--market",
out_of_session:"tv-market-status--out-of-session",post_market:"tv-market-status--post-market",pre_market:"tv-market-status--pre-market",loading:"tv-market-status--loading",holiday:"tv-market-status--holiday",replay:"tv-market-status--replay",delisted:"tv-market-status--delisted"},r={invalid:"tv-market-status__icon--invalid",market:"tv-market-status__icon--market",out_of_session:"tv-market-status__icon--out-of-session",post_market:"tv-market-status__icon--post-market",pre_market:"tv-market-status__icon--pre-market",loading:"tv-market-status__icon--loading",holiday:"tv-market-status__icon--holiday",replay:"tv-market-status__icon--replay",delisted:"tv-market-status__icon--delisted"};class a extends n.AbstractIndicator{constructor(e){super(e),this._quoteSessionPrefix="market-status-indicator",this._componentClass="tv-market-status",this._extraTitle="",this._init(e)}setStatus(e,t){const i={values:{current_session:"delisted"===this.getValue()?"delisted":e}};this.update(i,t)}getTooltipText(){let e=super.getTooltipText();return""===e||""!==this._extraTitle&&(e=`${e}, ${this._extraTitle}`),e}setExtraTitle(e){this._extraTitle=e}reset(){this._clearClasses(),this._labelEl.textContent="",this._extraTitle="",this._el.setAttribute("title",""),this._value=""}enableShortMode(e=!0){void 0!==this._labelEl&&this._labelEl.classList.add("i-hidden"),super.enableShortMode()}disableShortMode(){void 0!==this._labelEl&&this._labelEl.classList.remove("i-hidden"),super.disableShortMode()}_renderLabel(){this._labelEl.textContent=this.getLabel()}_getValueFromData(e){return e.values?.typespecs?.includes("discontinued")?"delisted":void 0!==e.values?.current_session?e.values.current_session:this.getValue()}_render(){this._renderLabelElement(),this._sessionStatusIcon?this._renderIconElement():this._renderDotElement(),super._render()}_init(e){const t=Object.assign({},function(){const e={invalid:s.t(null,void 0,i(732776)),market:s.t(null,void 0,i(969449)),out_of_session:s.t(null,void 0,i(82983)),post_market:s.t(null,void 0,i(14890)),pre_market:s.t(null,void 0,i(428809)),loading:s.t(null,void 0,i(372732)),holiday:s.t(null,void 0,i(499507)),delisted:s.t(null,void 0,i(341458)),replay:""};return{classMap:o,iconClassMap:r,classSuffix:"",data:{},extraTitle:"",labelMap:e,short:!1,showTooltip:!0,tooltipType:"custom"}}(),e);super._init(t),this.setExtraTitle(t.extraTitle),this._render()}_renderLabelElement(){void 0===this._labelEl&&(this._labelEl=document.createElement("span"),this._labelEl.classList.add(`${this._componentClass}__label`),this._labelEl.classList.add(`${this._componentClass}__label${this._classSuffix}`),this._el.appendChild(this._labelEl))}_renderDotElement(){this._el.contains(this._iconEl)&&this._el.removeChild(this._iconEl),void 0===this._dotEl&&(this._dotEl=document.createElement("span"),this._dotEl.classList.add(`${this._componentClass}__dot`),this._dotEl.classList.add(`${this._componentClass}__dot${this._classSuffix}`),this._el.appendChild(this._dotEl))}_renderIconElement(){this._el.contains(this._dotEl)&&this._el.removeChild(this._dotEl),
void 0===this._iconEl&&this._value&&(this._iconEl=document.createElement("span"),this._iconEl.classList.add(`${this._componentClass}__icon`),this._iconEl.classList.add(`${this._componentClass}__icon${this._classSuffix}`),this._el.appendChild(this._iconEl))}}},56582:(e,t,i)=>{"use strict";i.r(t);var s=i(77357),n=i(724226);const o="tv.logger.loglevel",r="tv.logger.logHighRate",a=(0,s.getLogger)("logger");function _(){try{n.TVLocalStorage.setItem(r,String((0,s.isHighRateEnabled)())),n.TVLocalStorage.setItem(o,String((0,s.getLogLevel)()))}catch(e){a.logWarn(`Cannot save logger state (level: ${(0,s.getLogLevel)()}, high-rate: ${(0,s.isHighRateEnabled)()}) to localStorage: ${e.message}`)}}window.lget=s.getLogHistory,window.lon=(e,t)=>{a.logNormal("Debug logging enabled"),(0,s.loggingOn)(e,t),_()},window.loff=()=>{a.logInfo("Debug logging disabled"),(0,s.loggingOff)(),_()},window.llevel=e=>{a.logInfo("Changed logging level"),(0,s.setLogLevel)(e),_()},function(){const e="true"===n.TVLocalStorage.getItem(r);(0,s.setHighRateStatus)(e);let t=parseInt(n.TVLocalStorage.getItem(o)||"");Number.isNaN(t)&&(t=s.LOGLEVEL.WARNING),(0,s.setLogLevel)(t),a.logNormal(`Init with settings - level: ${(0,s.getLogLevel)()}, high-rate: ${(0,s.isHighRateEnabled)()}`)}(),a.logNormal(`Sync logger and perf times, now is ${performance.now()}`)},997580:(e,t,i)=>{"use strict";i.d(t,{adwordsAnalyticsEnabled:()=>r,createImage:()=>n,marketingAnalyticsEnabled:()=>o});var s=i(788312);function n(e){const t=document.createElement("img");return t.src=e,t}function o(){return(0,s.isFeatureEnabled)("marketing-analytics")}function r(){return(0,s.isFeatureEnabled)("adwords-analytics")}},491163:(e,t,i)=>{"use strict";i.d(t,{CmEvent:()=>s,trackCmEvent:()=>r});var s,n=i(997580);!function(e){e.PageView="visit",e.RegistrationCompleted="signup",e.TrialSignUp="trial",e.PaidPlanAcquired="psub"}(s||(s={}));const o=(e,t)=>`https://ad.doubleclick.net/ddm/activity/src=13919399;type=${e===s.PaidPlanAcquired?"wsales":"wcount"};cat=${e};${t?`cost=${t};`:""}u27=${function(e="_sp_"){const t=new RegExp(e+"id\\.[a-f0-9]+=([^;]+);?"),i=document.cookie.match(t);return i&&i[1]?i[1].split(".")[0]:""}()};u28=${window.user.id};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=${1e3*Math.random()}?`;function r(e,t){(0,n.createImage)(o(e,t))}},695925:(e,t,i)=>{"use strict";i.d(t,{GTagEvent:()=>u,trackGTagAdsEvent:()=>h});var s=i(246445),n=i(865392),o=i(702203),r=i(376596),a=i(598944),_=i(982567),l=i(997580);const c=()=>`https://www.googletagmanager.com/gtag/js?id=${(0,a.getInitData)().gadwId}`;let d=!1;var u;function h(e,t={}){if(d||!(0,l.adwordsAnalyticsEnabled)()||(0,o.isOnMobileAppPage)("any")||r.CheckMobile.iOS()||(0,r.isSymphonyEmbed)()||((0,a.updateInitData)(),(0,a.getInitData)().gadwId&&(d=!0,(0,_.appendScript)(c()),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("consent","default",{ad_storage:(0,n.getCookieSetting)(n.CookieSettings.Advertising)?"granted":"denied"}),
window.gtag("config",(0,a.getInitData)().gadwId),s.subscribe(n.cookieSettingsChangeEvent,((e,t)=>{e===n.CookieSettings.Advertising&&window.gtag("consent","update",{ad_storage:t?"granted":"denied"})}),null))),!d)return;const i=(0,a.getInitData)().gadwId;window.gtag("event","conversion",{send_to:`${i}/${e}`,user_id:window.user.id,...t})}!function(e){e.PageView="kwnRCP6AwqsBEOTvvuED",e.TrialSignUp="6_gCCOyejsACEK3sq6gB",e.RegistrationCompleted="JzYhCIOr578CEK3sq6gB",e.PaidPlanAcquired="ca8iCNrG578CEK3sq6gB"}(u||(u={}))},587:(e,t,i)=>{"use strict";i.d(t,{TwitterEvent:()=>s,trackTwitterEvent:()=>a});var s,n=i(997580),o=i(865392);!function(e){e.SiteVisit="o2eg2",e.TrialSignUp="o1wjo",e.RegistrationCompleted="o1wjq",e.PaidPlanAcquired="o1wjr"}(s||(s={}));const r=e=>[`https://analytics.twitter.com/i/adsct?txn_id=${e}&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0`,`https://t.co/i/adsct?txn_id=${e}&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"`];function a(e){(0,n.marketingAnalyticsEnabled)()&&(0,o.getCookieSetting)(o.CookieSettings.Analytics)&&r(e).map(n.createImage)}},982567:(e,t,i)=>{"use strict";i.d(t,{appendScript:()=>n});var s=i(377527);function n(e){const t=document.createElement("script");t.async=!0,t.src=e;const i=(0,s.getCspNonce)();return i&&t.setAttribute("nonce",i),document.head.appendChild(t),t}},377527:(e,t,i)=>{"use strict";function s(){const e=document.querySelector("script[nonce]");if(null!==e)return e.getAttribute("nonce")||e.nonce}i.d(t,{getCspNonce:()=>s})},133674:(e,t,i)=>{"use strict";i.d(t,{environment:()=>n,isDebug:()=>a,isLocal:()=>o,isProd:()=>r});const s=new Set(["battle","staging","test","local"]);function n(){const e=self.environment;return function(e){s.has(e)||console.warn("Invalid environment "+e)}(e),e}function o(){return"local"===n()}function r(){return"battle"===n()}function a(){return!r()}},522943:(e,t,i)=>{"use strict";i.d(t,{isMcxQuoteData:()=>o});var s=i(631058);function n(e){return e===s.SymbolGroup.McxFlag}function o(e){return!!e&&(n(e.symbolname)||"permission_denied"===e.status&&n(e.values?.alternative))}},962672:(e,t,i)=>{"use strict";function s(e){return e.endsWith("_dly")}function n(e){return!!e&&(!(void 0===e.symbolname||!s(e.symbolname))||Boolean("permission_denied"===e.status&&e.values&&void 0!==e.values.alternative&&s(e.values.alternative)))}i.d(t,{isSfQuoteData:()=>n})},531394:(e,t,i)=>{"use strict";function s(e){if(e instanceof Error)return e.stack||e.message;try{return e.outerHTML.slice(0,1024)}catch{}try{if(void 0!==e)return JSON.stringify(e).slice(0,1024)}catch{}return String(e)}function n(){window.__tv_js_errors||(window.__tv_js_errors=[]),window.addEventListener("error",(e=>{const t=(new Date).toISOString();window.__tv_js_errors.push(`${t} ${e.message||"JS error"}. ${e.filename||"<unknown url>"}, line ${e.lineno}, col ${e.colno}.\nError: ${s(e.error)}`)}),!1),window.addEventListener("unhandledrejection",(e=>{const t=(new Date).toISOString();window.__tv_js_errors.push(`${t} Unhandled rejection.\nReason: ${s(e.reason)}`)}),!1),
document.addEventListener("securitypolicyviolation",(e=>{if(String(e.sourceFile).startsWith("https://securepubads.g.doubleclick.net")&&String(e.blockedURI).startsWith("https://adservice.google."))return;const t=(new Date).toISOString(),i="report"===e.disposition?"CSP report-only":"CSP violation";window.__tv_js_errors.push(`${t} ${i}: ${e.violatedDirective||e.effectiveDirective}. ${e.sourceFile||"<unknown url>"}, line ${e.lineNumber}, col ${e.columnNumber}.\nBlocked URI: ${e.blockedURI}\nSample: ${e.sample}\nTarget: ${s(e.target)}`)}),!1)}i.d(t,{install:()=>n})},724226:(e,t,i)=>{"use strict";const{getLogger:s}=i(77357),n=s("TVLocalStorage");var o=function(){try{this.isAvailable=!0,this.localStorage=window.localStorage,this.localStorage.setItem("tvlocalstorage.available","true")}catch(e){delete this.isAvailable,delete this.localStorage}this._updateLength();try{this._report()}catch(e){}};o.prototype._report=function(){if(this.isAvailable){const e=10,t=[];for(let e=0;e<this.localStorage.length;e++){const i=this.key(e);t.push({key:i,length:String(this.getItem(i)).length})}t.sort(((e,t)=>t.length-e.length));const i=t.slice(0,e);t.sort(((e,t)=>t.key.length-e.key.length));const s=t.slice(0,e);n.logNormal(`Total amount of keys in Local Storage: ${this.length}`),n.logNormal(`Top ${e} keys with longest values: ${JSON.stringify(i)}`),n.logNormal(`Top ${e} longest key names: ${JSON.stringify(s)}`);try{navigator.storage.estimate().then((e=>{n.logNormal(`Storage estimate: ${JSON.stringify(e)}`)}))}catch(e){}}},o.prototype.length=0,o.prototype.isAvailable=!1,o.prototype.localStorage={"tvlocalstorage.available":"false"},o.prototype._updateLength=function(){if(this.isAvailable)this.length=this.localStorage.length;else{var e,t=0;for(e in this.localStorage)this.localStorage.hasOwnProperty(e)&&t++;this.length=t}},o.prototype.key=function(e){return this.isAvailable?this.localStorage.key(e):Object.keys(this.localStorage)[e]},o.prototype.getItem=function(e){return this.isAvailable?this.localStorage.getItem(e):void 0===this.localStorage[e]?null:this.localStorage[e]},o.prototype.setItem=function(e,t){this.isAvailable?this.localStorage.setItem(e,t):this.localStorage[e]=t,this._updateLength()},o.prototype.removeItem=function(e){this.isAvailable?this.localStorage.removeItem(e):delete this.localStorage[e],this._updateLength()},o.prototype.clear=function(){this.isAvailable?this.localStorage.clear():this.localStorage={},this._updateLength()},window.TVLocalStorage=new o,e.exports.TVLocalStorage=window.TVLocalStorage},631058:(e,t,i)=>{"use strict";i.d(t,{SymbolGroup:()=>s,getSymbolGroupData:()=>o});i(686923);var s,n=i(729193);function o(e){const t={[s.NseFlag]:{title:n.t(null,void 0,i(681485)),description:n.t(null,void 0,i(56431))}};return t[e]?t[e]:null}!function(e){e.NseFlag="nse_free",e.McxFlag="mcx_free"}(s||(s={}))},254236:(e,t,i)=>{"use strict";i.d(t,{telemetry:()=>c});var s=i(875500),n=i(131890),o=i(376596),r=i(702203);i(574908);const a=(0,i(77357).getLogger)("Common.Telemetry"),_={default:15e3,site:3e5
},l=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const c=new class{constructor(){this.reportSent=new s.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,i){if(!this._isAbleToSendReport(t))return;const s=this._getSubserviceType(e),n=this._getHost(e,s);if(null!==n){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,n),!this._timeoutIds[e]){const t=_[e]??_.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,n),t)}}else a.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${s}`)}sendChartReport(e,t,i=!0){this._sendServiceSpecifiedReport("charts",e,t,i)}sendLineToolsStorageReport(e,t,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,i)}_sendServiceSpecifiedReport(e,t,i,s=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,s&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(e,t,i)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,i=l.includes(e),s=Boolean(window.TradingView?.onChartPage||(0,o.onWidget)());return t&&(!i||s)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),i=this._renameAllParams(e),s={event:"report_stash",params:this._cleanAllParams(i)};a.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,n.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(s)})}this._timeoutIds[e]=null}_getHost(e,t){const i=window.TELEMETRY_HOSTS,s=i[e]&&i[e][t];return Boolean(s)?s:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const i=window.user.is_pro;return"charts"===e&&(0,r.isOnMobileAppPage)("old")?t=i?"ios_pro":"ios_free":"charts"===e&&(0,r.isOnMobileAppPage)("new")?t=i?"android_pro":"android_free":(0,o.onWidget)()?t="widget":i&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return a.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(t);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){for(const t in e)e.hasOwnProperty(t)&&e[t].length>1e3&&(e.too_much_metrics_frame=e.too_much_metrics_frame??[],e.too_much_metrics_frame.push({value:e[t].length,additional:{event:t}}),delete e[t]);return e}_renameAllParams(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=[],e[i].forEach((e=>{t[i].push(this._renameEntryParams(e))})));return t}
_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((i,s)=>(i[t[s]]=e[s],i)),{})}_cleanAllParams(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){t[i]=[];const s={c:0};e[i].forEach((e=>{const n=this._cleanEntryParams(e),o=Object.keys(n).length;1===o&&void 0!==n.c?s.c+=n.c:o>0&&t[i].push(n)})),s.c>0&&t[i].push(s),0===t[i].length&&delete t[i]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,i)=>"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)}}},391060:(e,t,i)=>{"use strict";i.d(t,{ChartSession:()=>l});var s=i(875500),n=i(185842),o=i(168509),r=i(584104);const a=(0,i(77357).getLogger)("ChartApi.AbstractSession");class _{constructor(e,t,i){this._isConnected=new o.WatchedValue(!1),this._state=0,this._isConnectForbidden=!1,this._sessionId="",this._sessionIdChanged=new s.Delegate,this._chartApi=e,this._sessionPrefix=t,this._shouldReconnectAfterCriticalError=i}destroy(){this._logNormal("Destroying session"),this._isConnected.unsubscribe(),this.disconnect(),this._sessionIdChanged.destroy(),delete this._chartApi,this._logNormal("Session has been destroyed")}isConnected(){return this._isConnected}sessionId(){return this._sessionId}onSessionIdChanged(){return this._sessionIdChanged}connect(){0===this._state&&((0,n.assert)(!this._isConnectForbidden,"Cannot call connect because it is forbidden at this moment"),this._setSessionId(`${this._sessionPrefix}_${(0,r.randomHash)()}`),this._logNormal("Connecting session - wait until transport stay connected"),this._state=1,this._chartApi.createSession(this._sessionId,this))}disconnect(){0!==this._state&&((0,n.assert)(""!==this._sessionId,"sessionId must not be invalid"),this._logNormal("Disconnecting session..."),this._forbidConnectWhile((()=>{this._chartApi.connected()&&this._sendRemoveSession(),this._processDestroyingOnServer()})))}onMessage(e){switch(e.method){case"connected":return void this._onChartApiConnected();case"disconnected":return void this._onChartApiDisconnected();case"critical_error":const t=String(e.params[0]),i=String(e.params[1]);return void this._onCriticalError(t,i)}this._onMessage(e)}serverTime(){return this._chartApi.serverTime()}_getChartApi(){return this._chartApi}_generateLogMessage(e){return`[${this._sessionId}] ${e}`}_onCriticalError(e,t){this._logError(`Critical error. Reason=${e}, info=${t}.`),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this._shouldReconnectAfterCriticalError?(this._logNormal("Reconnecting after critical error..."),this.connect()):this._logNormal("Reconnecting after critical error skipped")}_onChartApiConnected(){(0,n.assert)(1===this._state,"Session is not registered"),this._logNormal("Transport is connected. Creating session on the server"),this._sendCreateSession(),this._state=2,this._isConnected.setValue(!0)}
_onChartApiDisconnected(){this._logNormal("Transport is disconnected. Reconnecting..."),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this.connect()}_setSessionId(e){const t=this._sessionId;this._logNormal(`Changing sessionId: old=${t}, new=${e}`),this._sessionId=e,this._sessionIdChanged.fire(e,t)}_logNormal(e){a.logNormal(this._generateLogMessage(e))}_logError(e){a.logError(this._generateLogMessage(e))}_processDestroyingOnServer(){this._state=0,this._isConnected.setValue(!1),this._chartApi.removeSession(this._sessionId),this._setSessionId("")}_forbidConnectWhile(e){this._isConnectForbidden=!0,e(),this._isConnectForbidden=!1}}class l extends _{constructor(e,t=!1){super(e,"cs",!1),this._sessionDisabled=!1,this._handler=null,this._criticalError=new s.Delegate,this._symbolResolveMap=new Map,this._lastSymbolResolveInfoMap=new Map,this._disableStatistics=t}destroy(){this._criticalError.destroy(),this._handler=null,this._symbolResolveMap.clear(),super.destroy()}switchTimezone(e){return this._getChartApi().switchTimezone(this.sessionId(),e)}defaultResolutions(){return this._getChartApi().defaultResolutions()}availableCurrencies(){return this._getChartApi().availableCurrencies()}availableUnits(){return this._getChartApi().availableUnits()}availableMetrics(){return this._getChartApi().availableMetrics()}availablePriceSources(e){return this._getChartApi().availablePriceSources(e)}resolveSymbol(e,t,i){if(this._symbolResolveMap.has(t)){const[e,s]=this._symbolResolveMap.get(t);return Array.isArray(s)?s.push(i):s.then(i),e}{const s=[i];return this._getChartApi().resolveSymbol(this.sessionId(),e,t,(i=>{if("symbol_error"===i.method)this._symbolResolveMap.delete(t);else{this._symbolResolveMap.set(t,[e,Promise.resolve(i)]);const[,s]=i.params,n={pro_name:s.pro_name,ticker:s.ticker};this._lastSymbolResolveInfoMap.set(t,n),n.pro_name&&this._lastSymbolResolveInfoMap.set(n.pro_name,n),s.full_name&&this._lastSymbolResolveInfoMap.set(s.full_name,n),n.ticker&&this._lastSymbolResolveInfoMap.set(n.ticker,n)}s.forEach((e=>e(i)))})),this._symbolResolveMap.set(t,[e,s]),e}}requestFirstBarTime(e,t,i){return this._getChartApi().requestFirstBarTime(this.sessionId(),e,t,i)}lastSymbolResolveInfo(e){return this._lastSymbolResolveInfoMap.get(e)??null}createSeries(e,t,i,s,n,o,r){return this._getChartApi().createSeries(this.sessionId(),e,t,i,s,n,o,r)}modifySeries(e,t,i,s,n,o,r){return this._getChartApi().modifySeries(this.sessionId(),e,t,i,s,n,o,r)}removeSeries(e){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),e)}requestMoreData(e,t,i){return"number"==typeof e?this._getChartApi().requestMoreData(this.sessionId(),e):this._getChartApi().requestMoreData(this.sessionId(),e,t,i)}requestMoreTickmarks(e,t,i){return this._getChartApi().requestMoreTickmarks(this.sessionId(),e,t,i)}setFutureTickmarksMode(e){return this._getChartApi().setFutureTickmarksMode(this.sessionId(),e)}canCreateStudy(e,t){return this._getChartApi().canCreateStudy(this.sessionId(),e,t)}getStudyCounter(){
return this._getChartApi().getStudyCounter(this.sessionId())}getFundamentalCounter(){return this._getChartApi().getFundamentalCounter(this.sessionId())}getChildStudyCounter(){return this._getChartApi().getChildStudyCounter(this.sessionId())}createStudy(e,t,i,s,n,o,r){return this._getChartApi().createStudy(this.sessionId(),e,t,i,s,n,o,r)}modifyStudy(e,t,i,s,n){return this._getChartApi().modifyStudy(this.sessionId(),e,t,i,s,n)}notifyStudy(e,t,i){return this._getChartApi().notifyStudy(this.sessionId(),e,t,i)}removeStudy(e){return this._getChartApi().removeStudy(this.sessionId(),e)}createPointset(e,t,i,s,n,o){return this._getChartApi().createPointset(this.sessionId(),e,t,i,s,n,o)}modifyPointset(e,t,i,s){return this._getChartApi().modifyPointset(this.sessionId(),e,t,i,s)}removePointset(e){return this._getChartApi().removePointset(this.sessionId(),e)}setVisibleTimeRange(e,t,i,s,n,o,r){0}criticalError(){return this._criticalError}connect(e=null){null!==e&&(this._handler=e),this._symbolResolveMap.clear(),super.connect()}setHandler(e){this._handler=e}connected(){return this.isConnected().value()&&!this._sessionDisabled}disable(){this._sessionDisabled=!0}chartApi(){return this._getChartApi()}_sendCreateSession(){Object.keys(this).forEach((e=>{/^(s|st|symbol_)\d+$/.test(e)&&delete this[e]})),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)}_sendRemoveSession(){this._getChartApi().chartDeleteSession(this.sessionId())}_onMessage(e){this._handler&&this._handler(e)}_onCriticalError(e,t){this._criticalError.fire(e,t),super._onCriticalError(e,t)}}},660101:(e,t,i)=>{"use strict";i.d(t,{getQuoteSessionInstance:()=>g});var s=i(389315),n=i(88434),o=i(622924),r=i(185842),a=i(992438),_=i(359308),l=i(584104),c=i(307866),d=i(323140);let u=!1;var h=i(809064);class m{constructor(e){this.onConnect=new a.Delegate,this.onDisconnect=new a.Delegate,this._connected=!1,this._subscriptions={},this._symbol_data={},this._delayUpdateFastSymbols=(0,n.default)(this._updateFastSymbols,250),this._throttledSymbolData={},this._extensions={},this.options={throttleTimeout:125,...e},this._session=new h.QuoteSession(e.api,["multiplexer",e.name,(0,l.randomHash)()].filter(Boolean).join("_")),this.options.extensions?.formatter&&(this._extensions.formatter=this.options.extensions.formatter(this)),this.options.extensions?.snapshot&&(this._extensions.snapshot=this.options.extensions.snapshot(this)),this.connect()}destroy(){this._session.destroy(),this._connected=!1,this.onDisconnect.fire()}internals(){return{session:()=>this._session,subscriptions:()=>this._subscriptions,data:()=>this._symbol_data}}connect(){this._session.connect(this.quoteHandler.bind(this))}quoteHandler(e){const{method:t,params:i}=e;switch(t){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(i[0]);break;case"quote_completed":this._connected&&this.onSymbolData({symbolname:i[0],complete:performance.now(),values:{}});break;case"disconnected":
this._connected&&(this._connected=!1,this.onDisconnect.fire())}}onConnected(){this.setFields();const e=Object.keys(this._symbol_data);e.length&&(this._session.quoteAddSymbols(e),this._delayUpdateFastSymbols()),this.onConnect.fire()}setFields(){const{fields:e}=this.options;e&&e.length&&this._session.quoteSetFields(e)}onSymbolData(e){try{e.status&&c.QUOTE_FIELDS_CACHE.update(e,c.QUOTE_FIELDS,!1)}catch(e){}const t=e.symbolname;let i=this._throttledSymbolData[t];u&&(delete e.values.prev_close_price,void 0!==e.values.regular_close&&(e.values.prev_close_price=e.values.regular_close)),i||(i=this._throttledSymbolData[t]={fnDispatch:(0,s.default)(this.dispatchSymbolData.bind(this),this.options.throttleTimeout)}),i.cache?(0,_.deepExtend)(i.cache,e):i.cache=e,i.fnDispatch(t)}dispatchSymbolData(e){const t=this._symbol_data[e],i=this._throttledSymbolData[e].cache;if(delete this._throttledSymbolData[e].cache,this._symbol_data[e]){(0,_.deepExtend)(t,i),t.values&&this._parseUpdateMode(t.values);for(const s in this._subscriptions){const n=this._subscriptions[s];if(n.has(e)){[...(0,r.ensureDefined)(n.get(e))].forEach((e=>{e(t,i)}))}}}}subscribe(e,t,i){this._subscriptions[e]=this._subscriptions[e]||new Map;const s=this._subscriptions[e];t=Array.isArray(t)?[...t]:[t];const n=[];t.forEach((e=>{this._symbol_data[e]?s&&s.has(e)||this._symbol_data[e].subscribers_count++:(this._symbol_data[e]={subscribers_count:1},n.push(e)),s.has(e)||s.set(e,[]);const t=(0,r.ensureDefined)(s.get(e));t.push(i),t.fast=!0,this._symbol_data[e]&&this._symbol_data[e].values&&i(this._symbol_data[e],this._symbol_data[e])})),n.length&&this._connected&&(this._session.quoteAddSymbols(n),this._delayUpdateFastSymbols())}unsubscribe(e,t,i){t=Array.isArray(t)?[...t]:[t];const s=this._subscriptions[e],n=[];for(let o=0;o<t.length;o++){const a=t[o];if(s)if(s.has(a)&&i){const e=(0,r.ensureDefined)(s.get(a)),t=e.indexOf(i);~t&&e.splice(t,1),e.length||s.delete(a)}else s.delete(a);s&&0===s.size&&delete this._subscriptions[e],this._symbol_data.hasOwnProperty(a)&&(s&&!s.has(a)&&this._symbol_data[a].subscribers_count--,this._symbol_data[a].subscribers_count||(delete this._symbol_data[a],n.push(a)))}n.length&&this._connected&&(this._session.quoteRemoveSymbols(n),this._delayUpdateFastSymbols())}setFastSymbols(e,t){if(this._subscriptions[e]){const i=this._subscriptions[e],s=Array.from(i.keys());for(let e=0;e<s.length;++e){const n=s[e];(0,r.ensureDefined)(i.get(n)).fast=-1!==t.indexOf(n)}}this._delayUpdateFastSymbols()}snapshot(e){return void 0===this._extensions.snapshot?Promise.reject("No formatter extension provided"):this._extensions.snapshot(e)}formatter(e,t){return void 0===this._extensions.formatter?Promise.reject("No formatter extension provided"):this._extensions.formatter(e,t)}_updateFastSymbols(){if(!this._connected)return;const e=this._fastSymbols();0===e.length?this._session.quoteHibernateAll():this._session.quoteFastSymbols(e)}_fastSymbols(){let e=[];for(const t in this._subscriptions){const i=this._subscriptions[t],s=Array.from(i.keys());for(let t=0;t<s.length;++t){
const n=s[t];(0,r.ensureDefined)(i.get(n)).fast&&e.push(n)}}return e=(0,o.default)(e),e}_parseUpdateMode(e){(0,d.normalizeUpdateMode)(e)}}var f=i(605434);const p={};function g(e="full"){return p[e]||function(e="full",t){p[e]=t}(e,new m({name:e,api:window.ChartApiInstance,fields:v[e],extensions:{formatter:e=>new S(e).formatter,snapshot:e=>new y(e).snapshot}})),p[e]}const v={simple:["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","variable_tick_size","value_unit_id","unit_id","measure"]};v.simpleDetailed=[...v.simple,"ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"],v.full=[],v.watchlist=[...v.simple,"rchp","rtc","country_code","provider_id","dividends_availability","financials_availability","earnings_availability"],v.portfolio=["pro_name","short_name","exchange","listed_exchange","description","local_description","language","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_calc","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id","unit_id","measure"],v.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],v.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],v.economic=["reference-last-period","lp","currency_code","value_unit_id","unit_id","measure"],v.options=["ask","bid","lp","volume"];class S{constructor(e){this._formatterValuesCache={},this._waitingForFormatters={},this.formatter=(e,t)=>{if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function i(e){const i=t&&!e.fractional?1:e.minmov;return new f.PriceFormatter({priceScale:e.pricescale,minMove:i,fractional:e.fractional,minMove2:e.minmove2})}const s=new Promise(((t,s)=>{if(this._formatterValuesCache[e])t(i(this._formatterValuesCache[e]));else{const n=(0,l.guid)();this._multiplexer.subscribe(n,[e],(o=>{"error"===o.status&&(this._waitingForFormatters[e]=null,s("Quotes snapshot is not received")),
function(e){return e&&null!=e.pricescale&&null!=e.minmov}(o.values)&&(this._waitingForFormatters[e]=null,this._formatterValuesCache[e]=o.values,t(i(o.values)),this._multiplexer.unsubscribe(n,e))}))}}));return this._waitingForFormatters[e]=s,s},this._multiplexer=e}}class y{constructor(e){this._snapshotValuesCache={},this._waitingForSnapshot={},this.snapshot=e=>{if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];const t=new Promise(((t,i)=>{if(this._snapshotValuesCache[e])t(this._snapshotValuesCache[e]);else{const s=(0,l.guid)();this._multiplexer.subscribe(s,[e],(n=>{"error"===n.status&&(this._waitingForSnapshot[e]=null,i("Quotes snapshot is not received"));const o=n.values;o&&o.minmov&&o.pricescale&&o.description&&(this._waitingForSnapshot[e]=null,this._snapshotValuesCache[e]=o,t(o),this._multiplexer.unsubscribe(s,e))}))}}));return this._waitingForSnapshot[e]=t,t},this._multiplexer=e}}"undefined"!=typeof window&&(window.getQuoteSessionInstance=g)},73336:(e,t,i)=>{"use strict";i.d(t,{MouseClickAutoBlurHandler:()=>r,initMouseClickAutoBlurHandler:()=>a});var s=i(578519),n=i(182497);const o="data-mouse-click-auto-blur";class r{constructor(){this._handler=e=>{document.activeElement instanceof HTMLElement&&((0,n.isKeyboardClick)(e)||e.target instanceof Element&&"INPUT"!==document.activeElement.tagName&&null!==document.activeElement.closest(`[${o}]`)&&document.activeElement.blur())},window.addEventListener("click",this._handler,!0)}static attributes(e=!0){return e?{[o]:!0}:{}}}const a=(0,s.default)((()=>new r))},651984:(e,t,i)=>{"use strict";i.d(t,{PriceColorer:()=>s});var s,n=i(947110),o=i(823291);!function(e){function t(e,t){return 0===e?t&&void 0!==t.neutral?t.neutral:n.color.black70:e>0?t&&void 0!==t.up?t.up:o.colorsPalette["color-success"]:t&&void 0!==t.down?t.down:o.colorsPalette["color-danger"]}e.formatSign=t,e.formatDiff=function(e,i){return t(i-e)},e.domDifference=function(e,t,i=0,s="",n=""){function o(e){const t=document.createElement("span");return t.innerHTML=e,t}const r=document.createElement("div");if(!i)return r.appendChild(o(e)),r;const a=e+"",_=t+"";let l=null;if(a.length===_.length){for(let e=0;e<a.length;e++)if(a.charAt(e)!==_.charAt(e)){l=e;break}}else l=Number("0");if(null===l)return r.appendChild(o(a)),r;const c=o(a.substring(0,l)),d=document.createElement("span");return d.className=i<0?s:n,d.appendChild(o(a.substring(l))),r.appendChild(c),r.appendChild(d),r}}(s||(s={}))},726026:(e,t,i)=>{"use strict";var s=i(813169),n=i(858328),o=i(131890),r=i(584104),a=i(133674),_=i(724226),l=i(77357);const c=(0,l.getLogger)("Common.Evercookie");i(587526);const d=new window.evercookie({domain:(0,a.isProd)()?".tradingview.com":location.hostname,lso:!1}),u=(0,l.getLogger)("Common.Evercookie");window.TradingView=window.TradingView||{};const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;class m{constructor(){this._cookieName="tv_ecuid",this._env=null,this.check=()=>{if(this._isEcNotAvailable()||_.TVLocalStorage.getItem("_tv_ec_ignore_username")===window.user.username)return
;const e=window.user.id;this._getEcUids().catch((e=>{u.logWarn(`Error thrown inside getEcUids(). Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)})).then((t=>{if(void 0===t)return void u.logWarn(`getEcUids() returned no data. Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})`);let s=t.localEcUid;const n=t.remoteEcUids;s&&h.test(s)||(s=(0,r.guid)(),d.set(this._cookieName,s));const a=t=>{t.subscription_canceled&&Promise.all([i.e(49380),i.e(64116),i.e(46970),i.e(40911),i.e(58696),i.e(28255),i.e(32387),i.e(48027)]).then(i.bind(i,912808)).then((e=>e.createTrialCanceledDialog())),e===window.user.id&&t.is_suspicious?_.TVLocalStorage.setItem("is_suspicious","1"):_.TVLocalStorage.removeItem("is_suspicious")};n&&0!==n.length&&-1!==n.indexOf(s)||e!==window.user.id||function(e){const t=new FormData;return t.append("ecuid",e),(0,o.fetch)("/accounts/set-ecuid/",{body:t,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{c.logWarn(`Error in reponse.json() of /accounts/set-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to set remote ecuids. Response was not OK")}))}(s).then(a)})).catch((e=>{u.logError(e.message+` User: ${window.user.username} (${window.user.id})`)}))},this._isEcNotAvailable()||(this._env=(0,a.environment)(),(0,a.isDebug)()&&(this._cookieName+="_"+this._env))}_isEcNotAvailable(){return window.TradingView.onWidget?.()||!window.user}_getLocalEcUid(){return new Promise((e=>{d.get(this._cookieName,(t=>{e(t)}))}))}_getEcUids(){return new Promise(((e,t)=>{let i;this._getLocalEcUid().then((e=>(i=e,function(e){return new Promise(((t,i)=>{const s=new FormData;e&&s.append("local_ecuid",e),(0,o.fetch)("/accounts/get-ecuid/",{body:s,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{c.logWarn(`Error in reponse.json() of /accounts/get-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to get remote ecuids. Response was not OK")})).then((e=>{t(e)})).catch((e=>{i(e)}))}))}(e)))).then((t=>{if(void 0===t)throw new Error(`getRemoteEcUids() returned no response. User: ${window.user.username} (${window.user.id})`);e({localEcUid:i,remoteEcUids:t.ecuids})})).catch((e=>{t(e)}))}))}}var f=i(770145),p=i(376596),g=i(702203),v=i(284278),S=i(812329);var y=i(246445),w=i(880847),b=i(539424);function E(e,t="x"){let i=!1;return"x"!==t&&"both"!==t||(i=i||e.offsetWidth<e.scrollWidth),"y"!==t&&"both"!==t||(i=i||e.offsetHeight<e.scrollHeight),i}function T(e,t="x"){for(const i of Array.from(e.children))if(i instanceof HTMLElement&&(E(i,t)||T(i,t)))return!0;return!1}function A(e){let t="x";return e.matches(".apply-overflow-tooltip--direction_both")?t="both":e.matches(".apply-overflow-tooltip--direction_y")&&(t="y"),t}function C(e){const t=e.getAttribute("data-overflow-tooltip-html");if(t)return{type:"html",data:t};const i=e.getAttribute("data-overflow-tooltip-text");if(i)return{type:"text",
data:i};if(e.matches?.(".apply-overflow-tooltip--allow-text")){return{type:"text",data:e.textContent||""}}const s=Array.from(e.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim();return s?{type:"text",data:s}:{type:"none"}}function I(e,t){let i=!1;const s=e.children;for(let e=0;e<s.length;e++){const n=s[e];if(n instanceof HTMLElement&&E(n,t)){i=!0;break}}return i}function O(e){const t=e.target;if(t instanceof HTMLElement&&(t.matches(".apply-overflow-tooltip-focus")||t.querySelector(".apply-overflow-tooltip-focus"))){const e=t.matches(".apply-overflow-tooltip")?t:t.querySelector(".apply-overflow-tooltip"),i=A(e);if(e.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(e,i))return}else if(e.matches(".apply-overflow-tooltip--check-children")){if(!I(e,i))return}else if(!E(e,i))return;(0,w.showOnElement)(t,{content:C(e)});const s=()=>{(0,w.hide)(),t.removeEventListener("blur",s),t.removeEventListener("active-descendant-blur",s)};t.addEventListener("blur",s),t.addEventListener("active-descendant-blur",s)}}(0,b.whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){const e=A(t);if(t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!T(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){if(!I(t,e))return}else if(!E(t,e))return;(0,w.showOnElement)(t,{content:C(t)});const i=()=>{(0,w.hide)(),["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,i)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,i)))}}),!0),document.addEventListener("focus",O,!0),document.addEventListener("active-descendant-focus",O,!0)}));var R=i(875500),L=i(142029),N=i(359308);function D(e){return()=>{e()}}var x=i(954231),k=i(912448),P=i(98062),M=i(398103);const q=(e=document.documentElement)=>(0,M.getSelectorTreeWalker)(e,P.FOCUSABLE_SELECTOR);const F=`[${k.FOCUS_TRAP_DATA_ATTRIBUTE}="true"]`;class U{constructor(){this._handleMouseDown=()=>{this._forwardTab=void 0},this._handleKeyDown=e=>{this._forwardTab=void 0,[9,x.Modifiers.Shift+9].includes((0,x.hashFromEvent)(e))&&(this._forwardTab=!e.shiftKey)},this._handleFocus=e=>{const t=e.target;if(void 0===this._forwardTab||!(t instanceof HTMLElement))return;const i=this._findDeepestFocusTrapElement(document.documentElement);if(!(i instanceof HTMLElement)||!i||i.contains(t))return;e.preventDefault(),e.stopPropagation(),t.blur();const s=i.compareDocumentPosition(t);if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_FOLLOWING){const e=this._forwardTab?V(i):V(i,!0);e instanceof HTMLElement&&e.focus()}},document.documentElement.addEventListener("focus",this._handleFocus,{capture:!0}),document.documentElement.addEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.addEventListener("mousedown",this._handleMouseDown,{capture:!0})}destroy(){document.documentElement.removeEventListener("focus",this._handleFocus,{capture:!0}),
document.documentElement.removeEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.removeEventListener("mousedown",this._handleMouseDown,{capture:!0})}_findDeepestFocusTrapElement(e){const t=e.querySelectorAll(F);let i=null,s=-1;return t.forEach((t=>{const n=this._calculateParentCount(t,e);n>s&&(s=n,i=t)})),i}_calculateParentCount(e,t){let i=0,s=e.parentElement;for(;s&&s!==t;)"true"===s.getAttribute(k.FOCUS_TRAP_DATA_ATTRIBUTE)&&i++,s=s.parentElement;return i}}const H=D((()=>new U));function V(e,t){return t?function(e){const t=q(e);return(0,M.getLastDescendant)(t)}(e):function(e){const t=q(e);return(0,M.getFirstDescendant)(t)}(e)}const $=D((()=>{H()}));var B=i(73336);var G=i(747890),W=i(695925),Y=i(587),j=i(491163),K=i(184544),X=i(377181);let J,z;function Q(){if(window.initData.lfs){const e=document.getElementsByClassName("js-admin-warning")[0];document.body.removeChild(e)}let e=!0;[/^\/chart\//,/^\/share-your-love\//,/^\/pine\//].forEach((t=>{t.test(window.location.pathname)&&(e=!1)})),e&&window.location.reload()}function Z(e){window.user=(0,N.deepExtend)({},e),window.TradingView.changeLoginState(!0)}function ee(e){{const e=document.documentElement;e.classList.toggle("is-authenticated",window.is_authenticated),e.classList.toggle("is-not-authenticated",!window.is_authenticated)}window.TVSettings&&window.TVSettings.sync(window.user.settings),window.is_authenticated?(e&&!1!==window.user.profile_data_filled||void 0===z||z.check(),e||(Promise.all([i.e(71237),i.e(24689),i.e(32387),i.e(64632)]).then(i.bind(i,720199)).then((e=>e.offerButtonLoginStateChangeInit())),(0,p.onGoPro)()&&window.location.reload()),!1===window.user.profile_data_filled&&((0,p.checkPageType)("mobile")||(0,g.isOnMobileAppPage)("any")||window.location.pathname.startsWith("/privacy-policy")||window.location.pathname.startsWith("/policies")||(0,b.whenDocumentReady)((()=>{(0,f.showSignModal)({mode:"create-account",onUnmountEvent:()=>{window.user.social_registration?(i.e(42402).then(i.bind(i,43115)).then((({registrationEvent:e})=>{e("Social")})),(0,W.trackGTagAdsEvent)(W.GTagEvent.RegistrationCompleted),(0,Y.trackTwitterEvent)(Y.TwitterEvent.RegistrationCompleted),(0,j.trackCmEvent)(j.CmEvent.RegistrationCompleted),delete window.user.social_registration):s.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user}))}})}),!0),(0,n.trackEvent)("Conversion","First login"),delete window.user.profile_data_filled),K.availableOffers.runOrUpdate((()=>{window.TradingView.setTrialAvailiable((0,X.isTrialAvailableForUser)(window.user,window.is_authenticated))}))):K.availableOffers.runOrUpdate((e=>{Object.keys(e).forEach((t=>{const i=t;e[i].available_for_anons||delete e[i]})),window.user={username:"Guest",following:"0",followers:"0",ignore_list:[],available_offers:e},_.TVLocalStorage.removeItem("trial_availiable")}))}J=window.loginStateChange?window.loginStateChange:window.loginStateChange=new R.Delegate,J.subscribe(null,ee),(0,v.createGroup)({desc:"Support"}).add({desc:"Open",
hotkey:v.Modifiers.Mod+191,handler:()=>(0,S.showSupportDialog)({initialState:"shortcuts"})}),s.TVXWindowEvents.on("loginStateChange",(e=>{const t=JSON.parse(e);window.user=t.user,window.is_authenticated=!!t.is_authenticated,J.fire()})),s.TVXWindowEvents.on("signOut",(()=>{Q()})),(()=>{const e="user-obj-changed",t={};window.crossTabSyncUserAttr=t=>{const i={};t instanceof Array?t.forEach((e=>{i[e]=window.user[e]})):i[t]=window.user[t],s.TVXWindowEvents.emit(e,JSON.stringify(i))},s.TVXWindowEvents.on(e,(e=>{const i=JSON.parse(e);let s;for(s in i)if(i.hasOwnProperty(s)){window.user[s]=i[s];(t[s]||[]).forEach((e=>{e.fire(i[s])}))}}))})(),window.TradingView.changeLoginState=e=>{window.is_authenticated=!!e,s.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user})),window.is_authenticated&&y.emit(L.GLOBAL_EVENT_SIGN_IN_SUCCESS),J.fire()},window.loginUser=Z,window.addEventListener("storage",(e=>{"login_user"===e.key&&null!==e.newValue&&Z(JSON.parse(e.newValue))})),window.TradingView.signOut=()=>{const e={...window.user};(0,o.fetch)("/accounts/logout/",{method:"POST",headers:{accept:"html"},credentials:"same-origin"}).then((()=>{window.TradingView.changeLoginState(!1),s.TVXWindowEvents.emit("signOut"),Q()})).catch((()=>{window.user=e,window.TradingView.changeLoginState(!0)}))},z=new m,window.loginRequiredDelegate=new R.Delegate,window.runOrSignIn=(e,t)=>{t||(t={});const i=[];t.paidAccountCheck&&i.push((()=>(0,G.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),window.is_authenticated?i.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{})):(0,f.showSignModal)({source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,signinSuccess:e,startTrial:t.startTrial,onUnmountEvent:t.onUnmountEvent,username:t.username})},window.is_authenticated&&s.TVXWindowEvents.on("user-status-declared",(e=>{window.user.declared_status=e})),window.onLoginStateChange=ee,window.TradingView.setTrialAvailiable=e=>{_.TVLocalStorage.setItem("trial_availiable",e?"1":"0")},window.TradingView.notificationsChanged=new R.Delegate,$(),(0,B.initMouseClickAutoBlurHandler)()},184544:(e,t,i)=>{"use strict";i.d(t,{availableOffers:()=>n});var s=i(131890);const n=new class{constructor(){this._isInvalid=!0,this._offers={}}runOrUpdate(e){this._isInvalid?window.requestIdleCallback?window.requestIdleCallback((()=>this._updateOffers().then(e))):setTimeout((()=>this._updateOffers().then(e)),0):e(this._offers)}getData(){return this._offers}invalidate(e){this._isInvalid=!0,window.user.available_offers={},this.runOrUpdate(e??(()=>{}))}setInitial(e){this._isInvalid=!1,this._offers=e,window.user.available_offers=this._offers}ensureOffers(){return new Promise((e=>this.runOrUpdate(e)))}withAvailableOffers(e){return async(...t)=>(await this.ensureOffers(),e(...t))}async _updateOffers(){return window.user.available_offers||(window.user.available_offers={}),this._updateOffersPromise?this._updateOffersPromise:this._isInvalid?(this._updateOffersPromise=(0,
s.fetch)("/api/v1/offers/",{method:"GET",credentials:"include"}).then((async e=>{const t=await e.json();return delete this._updateOffersPromise,this._isInvalid=!1,this._offers=Object.entries(t).reduce(((e,[t,i])=>(i&&(e[t]=i),e)),{}),window.user.available_offers=this._offers,t})).catch((()=>({}))),this._updateOffersPromise):this._offers}}},722601:(e,t,i)=>{"use strict";i.d(t,{OFFERS:()=>s,OfferKind:()=>n});const s={trial:"trial",early_access:"early_access",black_friday:"black_friday",cyber_monday:"cyber_monday",custom_discount:"custom_discount",longer_cycle:"longer_cycle",upgrade:"upgrade",extend:"extend",last_chance:"last_chance",one_usd:"one_usd",one_usd_yearly:"one_usd_yearly",three_months:"three_months",unsubscribe:"unsubscribe",six_months:"six_months",coupon:"coupon"},n={early_access:"early_access",black_friday:"black_friday",last_chance:"last_chance",one_usd:"1 usd offer",three_months:"3 months offer",six_months:"six_months",unsubscribe:"unsubscribe",custom_discount:"custom_discount"};var o;!function(e){e.TwoWeeks="LastChance_2w",e.TwoDays="LastChance_2d",e.Hours="LastChance_24h"}(o||(o={}))},961531:(e,t,i)=>{"use strict";async function s(e){const{renderGoToTradingViewReferralDialog:t}=await Promise.all([i.e(90909),i.e(64116),i.e(46970),i.e(45448),i.e(27848),i.e(98729),i.e(23038),i.e(40911),i.e(72644),i.e(36378),i.e(22237),i.e(77846),i.e(32387),i.e(26100),i.e(52312),i.e(56276),i.e(78888),i.e(53881)]).then(i.bind(i,398350));t(e)}i.d(t,{showGoToTradingViewReferralDialog:()=>s})},285800:(e,t,i)=>{"use strict";i.d(t,{paywallMobileInterceptor:()=>s});const s=new class{constructor(){this._hiddenFeatures=new Set,this._listeners=[],this.hide=e=>{this._hiddenFeatures.add(e)},this.isHiddenFeature=e=>this._hiddenFeatures.has(e),this.subscribe=e=>{this._listeners.push(e)},this.invoke=e=>{this._listeners.forEach((t=>t(e)))}}}},770145:(e,t,i)=>{"use strict";i.d(t,{isShowPromoVideo:()=>d,isSignModalOpen:()=>c,showSignModal:()=>l});var s=i(490353);const n=i.p+"astronaut.4a1616879bba68ef10e0.webp",o=i.p+"aurora.c6aede261d25c852fdb4.webp",r=s["media-mf-tablet-landscape"],a=s["media-mf-tablet-vertical"];let _=()=>!1;async function l(e){const t=Object.assign({},e,{isShowVideo:d()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=document.createElement("link"),t=document.createElement("link");e.rel="preload",e.as="image",e.href=n,t.rel="preload",t.as="image",t.href=o,document.head.appendChild(e),document.head.appendChild(t)}();const e=await Promise.all([i.e(62605),i.e(64116),i.e(98115),i.e(57032),i.e(46970),i.e(50865),i.e(48072),i.e(5709),i.e(74528),i.e(31788),i.e(15365),i.e(22066),i.e(86834),i.e(48011),i.e(56752),i.e(36810),i.e(15074),i.e(5246),i.e(6784),i.e(63470),i.e(34295),i.e(7558),i.e(59015),i.e(24951),i.e(9238),i.e(32387),i.e(44780),i.e(75930),i.e(99331),i.e(85974)]).then(i.bind(i,367645));return _=e.isSignModalOpen,e.showSignModal(t)}}function c(){return _()}function d(){const e=window.matchMedia(r).matches,t=window.matchMedia(a).matches,i=window.innerWidth,s=window.innerHeight
;return!!e||!!t&&s>=i}},142029:(e,t,i)=>{"use strict";i.d(t,{GLOBAL_EVENT_SIGN_IN_SUCCESS:()=>s,showEmailKey:()=>r,signupSource:()=>n,signupSourceMeta:()=>o});const s="GLOBAL_EVENT_SIGN_IN_SUCCESS";const n="signupSource",o="signupSourceMeta",r="auto-show-email-for-signin"},812329:(e,t,i)=>{"use strict";i.d(t,{showSupportDialog:()=>n});i(574908);var s=i(184544);function n(e){return Promise.all([i.e(67688),i.e(57032),i.e(1967),i.e(46970),i.e(48072),i.e(63665),i.e(24977),i.e(5709),i.e(74528),i.e(31788),i.e(15365),i.e(6406),i.e(86834),i.e(27688),i.e(48011),i.e(36810),i.e(92568),i.e(60627),i.e(96872),i.e(93541),i.e(15074),i.e(5246),i.e(80387),i.e(6784),i.e(5792),i.e(87795),i.e(23038),i.e(11087),i.e(6437),i.e(52682),i.e(66920),i.e(63470),i.e(68120),i.e(5449),i.e(76519),i.e(34295),i.e(7558),i.e(59015),i.e(2942),i.e(34040),i.e(24270),i.e(44301),i.e(61305),i.e(98645),i.e(32387),i.e(58291),i.e(44780),i.e(99827),i.e(33314),i.e(15496),i.e(21658),i.e(75641),i.e(99821),i.e(67890),i.e(77811),i.e(59857),i.e(18204),i.e(93474),i.e(8608)]).then(i.bind(i,160555)).then((t=>s.availableOffers.runOrUpdate((()=>new t.SupportDialog(e).open()))))}},747890:(e,t,i)=>{"use strict";i.d(t,{paidAccountCheck:()=>r});var s=i(724226),n=i(376596);const o=(0,i(77357).getLogger)("PaidAccountCheck");async function r(e){const{onlyCheck:t,successButtonText:r,isNeedCancelButton:a}=e,_=window.user,l=s.TVLocalStorage.getItem("previous_username");if(_&&window.is_authenticated&&!_.is_pro&&l&&!(0,n.isSymphonyEmbed)()){const{getProfile:e}=await Promise.all([i.e(70234),i.e(3961)]).then(i.bind(i,946311));try{const s=await e(l);if(Boolean(s.pro_plan)){if(t)return l;{const{showWrongAccountDialog:e}=await Promise.all([i.e(63553),i.e(24935),i.e(69881)]).then(i.bind(i,891699));return e({userName:l,isNeedCancelButton:a,successButtonText:r})}}}catch(e){o.logError(e.message)}}return!1}},377181:(e,t,i)=>{"use strict";i.d(t,{isTrialAvailableForUser:()=>n});var s=i(722601);function n(e,t){const i=e.available_offers||{};return t&&void 0!==i[s.OFFERS.trial]}},137995:(e,t,i)=>{"use strict";var s=i(822707).openPaywall,n=i(770145).showSignModal;window.TVDialogs={showSignInDialog:function(e){return n(e)},showGoProDialog:function(e){s(e)}}},77357:(e,t,i)=>{"use strict";var s;i.r(t),i.d(t,{LOGLEVEL:()=>s,getLogHistory:()=>S,getLogLevel:()=>h,getLogger:()=>w,getRawLogHistory:()=>g,isHighRateEnabled:()=>m,loggingOff:()=>E,loggingOn:()=>b,serializeLogHistoryEntry:()=>v,setHighRateStatus:()=>p,setLogLevel:()=>f}),function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(s||(s={}));let n=0;const o=1e3,r=[];let a=null,_=null,l=null,c=null,d=s.WARNING,u=!1;function h(){return d}function m(){return u}function f(e){e=Math.max(s.ERROR,Math.min(s.DEBUG,e)),d=e}function p(e){u=e}function g(e,t){let i=r.reduce(((e,t)=>e.concat(t)),[]);return i.sort(((e,t)=>e.id-t.id)),void 0!==t&&(i=i.filter((e=>e.subSystemId===t))),"number"==typeof e&&(i=i.slice(-e)),i}function v(e){
return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}const S=(e,t)=>function(e,t){let i,s=0,n=0;for(i=e.length-1;i>=1&&(s+=8*(1+encodeURIComponent(e[i]).length),!(i-1>0&&(n=8*(1+encodeURIComponent(e[i-1]).length),s+n>t)));i--);return e.slice(i)}(g(e,t).map(v),75497472);function y(e,t,i,r){if(t===_&&r.id===l)return;const u=new Date;if(e<=s.NORMAL&&function(e,t,i,s,r){"function"==typeof structuredClone&&(t=structuredClone(t)),t=t.slice(0,o);const a={id:n,message:t,subSystemId:s,timestamp:Number(e)};n+=1,i.push(a),void 0!==r&&i.length>r&&i.splice(0,1)}(u,t,i,r.id,r.maxCount),e<=d&&(!r.highRate||m())&&(!a||r.id.match(a))){const i=u.toISOString()+":"+r.id+":"+t;switch(e){case s.DEBUG:console.debug(i);break;case s.INFO:case s.NORMAL:r.color?console.log("%c"+i,"color: "+r.color):console.log(i);break;case s.WARNING:console.warn(i);break;case s.ERROR:console.error(i)}_=t,l=r.id,null!==c&&clearTimeout(c),c=setTimeout((()=>{_=null,l=null,c=null}),1e3)}}function w(e,t={}){const i=[];r.push(i);const n=Object.assign(t,{id:e});function o(e){return t=>y(e,String(t),i,n)}return{logDebug:o(s.DEBUG),logError:o(s.ERROR),logInfo:o(s.INFO),logNormal:o(s.NORMAL),logWarn:o(s.WARNING)}}const b=(e,t)=>{f(s.DEBUG),u=Boolean(e),a=t||null},E=()=>{f(s.INFO)}},384530:(e,t,i)=>{"use strict";i.d(t,{isAndroid:()=>m,isAnyMobile:()=>S,isBlackBerry:()=>f,isChrome:()=>a,isEdge:()=>l,isFF:()=>_,isIOS:()=>p,isIPad:()=>v,isLinux:()=>h,isMac:()=>d,isOperaMini:()=>g,isSafari:()=>c,isWindows:()=>u,mobiletouch:()=>o,touch:()=>r});const s="undefined"!=typeof window&&"undefined"!=typeof navigator,n=s&&"ontouchstart"in window,o=s&&n&&"onorientationchange"in window,r=s&&(n||!!navigator.maxTouchPoints),a=s&&window.chrome&&window.chrome.runtime,_=s&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l=s&&/\sEdge\/\d\d\b/.test(navigator.userAgent),c=s&&Boolean(navigator.vendor)&&navigator.vendor.indexOf("Apple")>-1&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS"),d=s&&/mac/i.test(navigator.platform),u=s&&/Win32|Win64/i.test(navigator.platform),h=s&&/Linux/i.test(navigator.platform),m=s&&/Android/i.test(navigator.userAgent),f=s&&/BlackBerry/i.test(navigator.userAgent),p=s&&/iPhone|iPad|iPod/.test(navigator.platform),g=s&&/Opera Mini/i.test(navigator.userAgent),v=s&&("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/iPad/.test(navigator.platform)),S=m||f||p||g},663750:e=>{"use strict";e.exports=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')},233938:e=>{"use strict"
;e.exports=JSON.parse('{"free":{"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":2},"FUNDAMENTALS_ON_CHART":{"limit":1},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":3,"complex_limit":0,"primitive_limit":3},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1},"WATCHLIST_SYMBOLS":{"limit":30},"VIDEO_IDEAS_LENGTH":{"limit":20},"CREATE_MORE_PORTFOLIOS":{"limit":1},"PORTFOLIO_TRANSACTIONS":{"limit":2000},"PORTFOLIO_HOLDINGS":{"limit":20}},"pro":{"BACKTESTING_CHART_EXPAND":{},"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"PERSONAL_SUPPORT":{"disable_on_trial":true},"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"MARKET_DATA_LIMITS":{"limit":2,"primitive_limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"FUNDAMENTALS_ON_CHART":{"limit":4},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20,"complex_limit":20,"primitive_limit":20},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_NEW_EXPORT_CSV_DATA":{},"SCREENER_NEW_SHOW_RESTRICTED_DATA":{},"SHOW_BONDS_RESTRICTED_DATA":{},"PORTFOLIO_DATA_LIMIT":{},"CREATE_MORE_PORTFOLIOS":{"limit":3},"PORTFOLIO_TRANSACTIONS":{"limit":5000},"PORTFOLIO_HOLDINGS":{"limit":50},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{"disable_on_lite_plan":"exclude_mobile"},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":1},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true},"WATCHLIST_SYMBOLS":{"limit":1000},"FIELDS_PERMISSIONS":{"items":["refbonds"]},"CUSTOM_RANGE_BARS":{},"FASTEST_DATA_FLOW":{},"SESSION_VOLUME_PROFILE":{},"SHOW_ETF_HOLDINGS_DATA":{}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"MARKET_DATA_LIMITS":{"limit":4,"primitive_limit":4},"INDICATORS_ON_CHART":{"limit":10},"FUNDAMENTALS_ON_CHART":{"limit":7},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":9},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":100,"complex_limit":100,"primitive_limit":100},"ALERTS_MULTICONDITIONS":{"condition_limit":5},"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{},"CREATE_MORE_PORTFOLIOS":{"limit":4},"PORTFOLIO_HOLDINGS":{"limit":75}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"MARKET_DATA_LIMITS":{"limit":6,"primitive_limit":6},"INDICATORS_ON_CHART":{"limit":25},"FUNDAMENTALS_ON_CHART":{"limit":10},"FUNDAMENTAL_GRAPHS_LARGE_TIME_RANGE":{},"CHAT_ASSISTANT":{"limit":99999,"disable_on_trial":true},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":800,"child_limit":24},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":400,"complex_limit":400,"primitive_limit":400,"watchlist_limit":2,"overall_watchlist_limit":5},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":4},"BAR_REPLAY_1S":{},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{},"TPO_PERIODIC":{"study_packages":["tv-volumebyprice"]},"TPO_CHART_STYLE":{},"VOLUME_CANDLES":{},"VIDEO_IDEAS_LENGTH":{"limit":60},"VOLUME_FOOTPRINT":{},"PINE_SCREENER":{},"CREATE_MORE_PORTFOLIOS":{"limit":5},"PORTFOLIO_HOLDINGS":{"limit":100},"SOCIAL_TRUSTED_USER":{"disable_on_trial":true}},"pro_expert":{"extends":"pro_premium","INDICATORS_ON_CHART":{"limit":30},"FUNDAMENTALS_ON_CHART":{"limit":15},"STUDY_ON_STUDY":{"limit":800,"child_limit":29},"MULTIPLE_CHARTS":{"limit":10},"MARKET_DATA_LIMITS":{"limit":12,"primitive_limit":12},"HISTORICAL_BARS":{"limit":25},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":600,"complex_limit":600,"primitive_limit":600,"watchlist_limit":10,"overall_watchlist_limit":20},"BACKEND_CONNECTIONS":{"limit":80},"BAR_REPLAY_INTRADAY":{"limit":6},"BAR_REPLAY_1S":{},"BAR_REPLAY_1T":{},"EXPORT_FINANCIALS_DATA":{},"TICK_INTERVALS":{},"FIRST_PRIORITY_SUPPORT":{},"BUY_PRO_DATA":{},"CREATE_MORE_PORTFOLIOS":{"limit":6},"PORTFOLIO_HOLDINGS":{"limit":125}},"pro_premium_expert":{"extends":"pro_expert","INDICATORS_ON_CHART":{"limit":50},"FUNDAMENTALS_ON_CHART":{"limit":25},"STUDY_ON_STUDY":{"limit":800,"child_limit":49},"MULTIPLE_CHARTS":{"limit":16},"MARKET_DATA_LIMITS":{"limit":99999,"primitive_limit":25},"HISTORICAL_BARS":{"limit":40},"SERVER_SIDE_ALERTS":{"overall_limit":4000,"limit":1000,"complex_limit":1000,"primitive_limit":1000,"watchlist_limit":15,"overall_watchlist_limit":30},"BACKEND_CONNECTIONS":{"limit":200},"BAR_REPLAY_INTRADAY":{"limit":10},"CREATE_MORE_PORTFOLIOS":{"limit":7},"PORTFOLIO_HOLDINGS":{"limit":150}}}')
}}]);